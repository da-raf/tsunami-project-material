<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SWE: SWE_RusanovBlockCUDA Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SWE
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">SWE_RusanovBlockCUDA Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="SWE_RusanovBlockCUDA" --><!-- doxytag: inherits="SWE_BlockCUDA" -->
<p><code>#include &lt;<a class="el" href="SWE__RusanovBlockCUDA_8hh_source.html">SWE_RusanovBlockCUDA.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SWE_RusanovBlockCUDA:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classSWE__RusanovBlockCUDA.png" usemap="#SWE_RusanovBlockCUDA_map" alt=""/>
  <map id="SWE_RusanovBlockCUDA_map" name="SWE_RusanovBlockCUDA_map">
<area href="classSWE__BlockCUDA.html" alt="SWE_BlockCUDA" shape="rect" coords="0,56,161,80"/>
<area href="classSWE__Block.html" alt="SWE_Block" shape="rect" coords="0,0,161,24"/>
</map>
 </div></div>

<p><a href="classSWE__RusanovBlockCUDA-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#a5bd6db4a52d816534923d851ea6f9314">SWE_RusanovBlockCUDA</a> (float _offsetX=0, float _offsetY=0, const int i_cudaDevice=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#a4af9183cc7715e1b1a3d91cdb98f9cda">~SWE_RusanovBlockCUDA</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#a85ec49606ab69ded8cd6f39aa4be1505">computeNumericalFluxes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#a0a18726a733492218423eed37a7ab406">updateUnknowns</a> (float dt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#a238b383e0458babb52e3dd5b5784bc48">simulateTimestep</a> (float dt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">execute a single time step of the simulation  <a href="#a238b383e0458babb52e3dd5b5784bc48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#a77719262dc1789adea136ed50f17bb58">simulate</a> (float tStart, float tEnd)</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSWE__RusanovBlockCUDA.html#adbdcb6417643b695657724ea16f84954">operator&lt;&lt;</a> (ostream &amp;os, const <a class="el" href="classSWE__RusanovBlockCUDA.html">SWE_RusanovBlockCUDA</a> &amp;swe)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classSWE__RusanovBlockCUDA.html">SWE_RusanovBlockCUDA</a> extends the base class <a class="el" href="classSWE__BlockCUDA.html">SWE_BlockCUDA</a>, and provides a concrete CUDA implementation of a simple shallow water model based on Rusanov Flux computation on the edges and explicit time stepping. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5bd6db4a52d816534923d851ea6f9314"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::SWE_RusanovBlockCUDA" ref="a5bd6db4a52d816534923d851ea6f9314" args="(float _offsetX=0, float _offsetY=0, const int i_cudaDevice=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSWE__RusanovBlockCUDA.html#a5bd6db4a52d816534923d851ea6f9314">SWE_RusanovBlockCUDA::SWE_RusanovBlockCUDA</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>_offsetX</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>_offsetY</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>i_cudaDevice</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor: allocate variables for simulation</p>
<p>unknowns h,hu,hv,b are defined on grid indices [0,..,nx+1]*[0,..,ny+1] -&gt; computational domain is [1,..,nx]*[1,..,ny] -&gt; plus ghost cell layer</p>
<p>flux terms are defined for edges with indices [0,..,nx]*[1,..,ny] or [1,..,nx]*[0,..,ny] (for horizontal/vertical edges) Flux term with index (i,j) is located on the edge between cells with index (i,j) and (i+1,j) or (i,j+1)</p>
<p>bathymetry source terms are defined for cells with indices [1,..,nx]*[1,..,ny] </p>

</div>
</div>
<a class="anchor" id="a4af9183cc7715e1b1a3d91cdb98f9cda"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::~SWE_RusanovBlockCUDA" ref="a4af9183cc7715e1b1a3d91cdb98f9cda" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSWE__RusanovBlockCUDA.html#a4af9183cc7715e1b1a3d91cdb98f9cda">SWE_RusanovBlockCUDA::~SWE_RusanovBlockCUDA</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor: de-allocate all variables </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a85ec49606ab69ded8cd6f39aa4be1505"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::computeNumericalFluxes" ref="a85ec49606ab69ded8cd6f39aa4be1505" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSWE__RusanovBlockCUDA.html#a85ec49606ab69ded8cd6f39aa4be1505">SWE_RusanovBlockCUDA::computeNumericalFluxes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>compute the flux terms on all edges </p>

<p>Implements <a class="el" href="classSWE__Block.html#a94dcf2c6ae31731e4586e45628b0c00e">SWE_Block</a>.</p>

</div>
</div>
<a class="anchor" id="a77719262dc1789adea136ed50f17bb58"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::simulate" ref="a77719262dc1789adea136ed50f17bb58" args="(float tStart, float tEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__host__ float <a class="el" href="classSWE__RusanovBlockCUDA.html#a77719262dc1789adea136ed50f17bb58">SWE_RusanovBlockCUDA::simulate</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>tStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>tEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>perform forward-Euler time steps, starting with simulation time tStart,: until simulation time tEnd is reached; device-global variables hd, hud, hvd are updated; unknowns h, hu, hv in main memory are not updated. Ghost layers and bathymetry sources are updated between timesteps. intended as main simulation loop between two checkpoints </p>

<p>Implements <a class="el" href="classSWE__Block.html#a1da88bb47008dc9246a8c47d00575d1e">SWE_Block</a>.</p>

</div>
</div>
<a class="anchor" id="a238b383e0458babb52e3dd5b5784bc48"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::simulateTimestep" ref="a238b383e0458babb52e3dd5b5784bc48" args="(float dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSWE__RusanovBlockCUDA.html#a238b383e0458babb52e3dd5b5784bc48">SWE_RusanovBlockCUDA::simulateTimestep</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>execute a single time step of the simulation </p>
<p>Depending on the current values of h, hu, hv (incl. ghost layers) update these unknowns in each grid cell (ghost layers and bathymetry are not updated). The Rusanov CUDA-implementation of simulateTimestep subsequently calls the functions computeNumericalFluxes (to compute all fluxes on grid edges), and updateUnknowns (to update the variables according to flux values, typically according to an Euler time step). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>size of the time step </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classSWE__Block.html#a4fb41f3bbbda88992e5bce802e139c9b">SWE_Block</a>.</p>

</div>
</div>
<a class="anchor" id="a0a18726a733492218423eed37a7ab406"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::updateUnknowns" ref="a0a18726a733492218423eed37a7ab406" args="(float dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__host__ void <a class="el" href="classSWE__RusanovBlockCUDA.html#a0a18726a733492218423eed37a7ab406">SWE_RusanovBlockCUDA::updateUnknowns</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>implements interface function updateUnknowns: based on the (Rusanov) fluxes computed on each edge (and stored in the variables Fh, Gh, etc.); compute the balance terms for each cell, and update the unknowns according to an Euler time step. It will force an update of the copy layer in the main memory by calling <a class="el" href="classSWE__BlockCUDA.html#a41d117ca8fe9a8c5509369edd026fd63">synchCopyLayerBeforeRead()</a>, and provide an compute the maximum allowed time step size by calling computeMaxTimestepCUDA(). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>size of the time step. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classSWE__Block.html#ab2b4b659f23d5d45413dece8d2da3298">SWE_Block</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="adbdcb6417643b695657724ea16f84954"></a><!-- doxytag: member="SWE_RusanovBlockCUDA::operator&lt;&lt;" ref="adbdcb6417643b695657724ea16f84954" args="(ostream &amp;os, const SWE_RusanovBlockCUDA &amp;swe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSWE__RusanovBlockCUDA.html">SWE_RusanovBlockCUDA</a> &amp;&#160;</td>
          <td class="paramname"><em>swe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>overload operator&lt;&lt; such that data can be written via cout &lt;&lt; -&gt; needs to be declared as friend to be allowed to access private data </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/thomas/Dokumente/SWE/src/blocks/rusanov/<a class="el" href="SWE__RusanovBlockCUDA_8hh_source.html">SWE_RusanovBlockCUDA.hh</a></li>
<li>/home/thomas/Dokumente/SWE/src/blocks/rusanov/<a class="el" href="SWE__RusanovBlockCUDA_8cu.html">SWE_RusanovBlockCUDA.cu</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon May 13 2013 03:39:42 for SWE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
